<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: head"></head>
<body>
<header th:replace="fragments :: header"></header>
<div class="container mt-4">
  <h4>All Sick Leaves</h4>
  <div class="col-12">
    <h3 th:unless="${sickLeaves} and ${sickLeaves.size()}">There are no sick leaves!</h3>
    <table th:if="${sickLeaves.size() > 0}" class="table table-hover">
      <thead>
      <tr>
        <th>Start Date</th>
        <th>Days Count</th>
        <th>Exam</th>
        <th>Doctor</th>
        <th>Patient</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="sickLeave : ${sickLeaves}">
        <td th:text="${sickLeave.startDate != null ? sickLeave.startDate : 'N/A'}"></td>
        <td th:text="${sickLeave.countDays != null ? sickLeave.countDays : 'N/A'}"></td>
        <td th:text="${sickLeave.exam != null ? sickLeave.exam.details : 'No Exam Assigned'}"></td>
        <td th:text="${sickLeave.doctor != null ? sickLeave.doctor.name : 'Not Assigned'}"></td>
        <td th:text="${sickLeave.patient != null ? sickLeave.patient.name : 'Not Assigned'}"></td>
        <td>
          <a th:href="@{'/sick-leaves/edit/' + ${sickLeave.id}}" class="btn btn-info">Edit</a>
          <a th:href="@{'/sick-leaves/delete/' + ${sickLeave.id}}" class="btn btn-danger">Delete</a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="col-6 mt-3">
  <a class="btn btn-primary" th:href="@{/sick-leaves/create}">Add New Sick Leave</a>
</div>

<footer th:replace="fragments :: footer"></footer>
</body>
</html>
